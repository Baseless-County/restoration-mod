<sequence_manager>
	<unit>
		<variables>
			
			<!-- zeal swat -->
			<var_gadgets_city_light value="0"/>					
			
			<!-- goggle a -->
			<var_goggles value="0"/>					
		</variables>
	

				
		<body name="'glass_swat'">
			<endurance explosion="4" bullet="1">
				<run_sequence name="'crk_goggles'"/>
			</endurance>
		</body>	
		
		<body name="'glass_c'">
			<endurance bullet="1" explosion="4">
				<run_sequence name="'crk_goggles'"/>
			</endurance>
		</body>	

		<filter name="'check_city_swat_ar'">
			<check value="vars.var_gadgets_city_light == 1"/>
		</filter>		
		<filter name="'check_city_swat_sg'">
			<check value="vars.var_gadgets_city_light == 2"/>
		</filter>

		<filter name="'check_goggle_a'">
			<check value="vars.var_goggles == 1"/>
		</filter>
		
		<filter name="'check_goggle_c'">
			<check value="vars.var_goggles == 3"/>
		</filter>
		
		<filter name="'check_goggle_d'">
			<check value="vars.var_goggles == 4"/>
		</filter>
		
		
		<sequence editable_state="true" name="'swat_ar'" triggable="true" once="true">						
			<set_variables var_gadgets_city_light="1"/>			
			<run_sequence name="'gadget_meat_grinder'"/>		
		</sequence>
		
		<sequence editable_state="true" name="'swat_sg'" triggable="true" once="true">						
			<set_variables var_gadgets_city_light="2"/>
			<run_sequence name="'gadget_meat_grinder'"/>		
		</sequence>

		<sequence editable_state="true" name="'gadget_meat_grinder'" triggable="true" once="true">	
			<run_sequence name="'holster_'..pick('r','r','r','r', 'nothing','nothing')"/>
			
			<!-- rifleman -->
			<run_sequence name="'head_'..pick('balaclava_c', 'balaclava_b', 'balaclava_c', 'balaclava_c', 'balaclava_c', 'balaclava_c', 'balaclava_c', 'balaclava_c', 'balaclava_c')"/>
			<run_sequence filter="'check_city_swat_ar'" name="'goggles_'..pick('a','a','a','c','c','e','a','a')"/>								
			<object filter="'check_city_swat_ar'" enabled="true" name="'g_hrt_ar'"/>						
			<object filter="'check_city_swat_ar'" enabled="true" name="'g_hrt_ar_lod1'"/>		
			<object filter="'check_city_swat_ar'" enabled="false" name="'g_helmet_lod1'"/>						
			<object filter="'check_city_swat_ar'" enabled="false" name="'g_helmet_lod2'"/>
			
			<!-- smg -->
			<object filter="'check_city_swat_sg'" enabled="true" name="'g_hrt_smg'"/>						
			<object filter="'check_city_swat_sg'" enabled="true" name="'g_hrt_smg_lod1'"/>
			<decal_mesh filter="'check_city_swat_sg'" enabled="true" name="'dm_helmet'"/>
		</sequence>
		

		<sequence editable_state="true" name="'goggles_a'" once="true" triggable="true">
			<object enabled="true" name="'g_goggles_a'"/>
			<object enabled="true" name="'g_goggles_a_lod1'"/>
			<object enabled="true" name="'g_glass'"/>
			<set_variables var_goggles="1"/>					
			<decal_mesh enabled="true" name="'c_glass'" />					
			<body enabled="true" name="'glass_swat'" />										
		</sequence>
				
		<sequence editable_state="true" name="'goggles_c'" once="true" triggable="true">
			<object enabled="true" name="'g_goggles_c'"/>
			<object enabled="true" name="'g_goggles_c_lod1'"/>
			<object enabled="true" name="'g_glass_c'"/>
			<set_variables var_goggles="3"/>										
			<decal_mesh enabled="true" name="'c_glass_c'" />					
			<body enabled="true" name="'glass_c'" />										
		</sequence>
		
		<sequence editable_state="true" name="'goggles_e'" once="true" triggable="true">
			<object enabled="true" name="'g_glasses'"/>
			<object enabled="true" name="'g_glasses_glass'"/>
			<set_variables var_goggles="5"/>										
		</sequence>
		
		<sequence editable_state="true" name="'crk_goggles'" once="true" triggable="true">
			<object filter="'check_goggle_a'" enabled="true" name="'g_glass_crk'"/>
			<object filter="'check_goggle_a'" enabled="false" name="'g_glass'"/>
						
			<object filter="'check_goggle_c'" enabled="false" name="'g_glass_c'"/>
			<object filter="'check_goggle_c'" enabled="true" name="'g_glass_c_crk'"/>					
		</sequence>				
		

		<!-- BALACLAVA W/ "INSIDE" FACE SEQUENCES -->
		<sequence editable_state="true" name="'head_balaclava'" triggable="true" once="true">	
			<object enabled="true" name="'g_balaclava_a'"/>
			<object enabled="true" name="'g_balaclava_a_lod1'"/>	

			<run_sequence name="'face_'..pick('a','b','c','d','e')" />										
		</sequence>	
		
		<sequence editable_state="true" name="'head_balaclava_b'" triggable="true" once="true">	
			<object enabled="true" name="'g_balaclava_b'"/>
			<object enabled="true" name="'g_balaclava_b_lod1'"/>	

			<run_sequence name="'face_'..pick('a','b','c','d','e')" />										
		</sequence>								
		
		<sequence editable_state="true" name="'head_balaclava_c'" triggable="true" once="true">	
			<object enabled="true" name="'g_balaclava_c'"/>
			<object enabled="true" name="'g_balaclava_c_lod1'"/>	

			<run_sequence name="'face_'..pick('a','b','c','d','e')" />										
		</sequence>								

		<!-- RANDOM HOLSTERS -->

		<sequence editable_state="true" name="'holster_r'" once="true" triggable="true">
			<object enabled="true" name="'g_holster_r_hip'"/>
			<object enabled="true" name="'g_holster_r_hip_lod1'"/>
		</sequence>								
		<!-- RANDOM HOLSTERS end -->
		
		<sequence editable_state="true" name="'face_a'" once="true" triggable="true">
			<object enabled="true" name="'g_face_a'"/>
			<object enabled="true" name="'g_face_a_lod1'"/>
		</sequence>								
		<sequence editable_state="true" name="'face_b'" once="true" triggable="true">
			<object enabled="true" name="'g_face_b'"/>
			<object enabled="true" name="'g_face_b_lod1'"/>
		</sequence>								
		<sequence editable_state="true" name="'face_c'" once="true" triggable="true">
			<object enabled="true" name="'g_face_c'"/>
			<object enabled="true" name="'g_face_c_lod1'"/>
		</sequence>								
		<sequence editable_state="true" name="'face_d'" once="true" triggable="true">
			<object enabled="true" name="'g_face_d'"/>
			<object enabled="true" name="'g_face_d_lod1'"/>
		</sequence>								
		<sequence editable_state="true" name="'face_e'" once="true" triggable="true">
			<object enabled="true" name="'g_face_e'"/>
			<object enabled="true" name="'g_face_e_lod1'"/>
		</sequence>	
		<!-- END BALACALVA FACES -->
	
		<sequence editable_state="true" name="'disable_hitbox'" triggable="true">
			<body enabled="false" name="'body'"/>
			<body enabled="false" name="'Head'"/>
			<body enabled="false" name="'rag_LeftLeg'"/>
			<body enabled="false" name="'rag_RightLeg'"/>
			<body enabled="false" name="'rag_RightUpLeg'"/>
			<body enabled="false" name="'rag_LeftUpLeg'"/>
		</sequence>
		<sequence editable_state="true" name="'leg_arm_hitbox'" triggable="true">
			<body enabled="true" name="'body'"/>
			<body enabled="true" name="'Head'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_Hips'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftUpLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightUpLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightLeg'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_Spine'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_Spine1'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_Spine2'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_LeftForeArm'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_RightForeArm'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_LeftArm'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_RightArm'"/>
			<body enabled="false" motion="'keyframed'" name="'rag_Head'"/>
			<constraint enabled="false" name="'LeftUpLeg'"/>
			<constraint enabled="false" name="'RightUpLeg'"/>
			<constraint enabled="false" name="'LeftLeg'"/>
			<constraint enabled="false" name="'RightLeg'"/>
			<constraint enabled="false" name="'Spine'"/>
			<constraint enabled="false" name="'Spine1'"/>
			<constraint enabled="false" name="'Spine2'"/>
			<constraint enabled="false" name="'LeftForeArm'"/>
			<constraint enabled="false" name="'RightForeArm'"/>
			<constraint enabled="false" name="'LeftArm'"/>
			<constraint enabled="false" name="'RightArm'"/>
			<constraint enabled="false" name="'Head'"/>
		</sequence>
		<sequence editable_state="true" name="'prepare_ragdoll'" triggable="true">
			<body enabled="false" motion="'dynamic'" name="'rag_Hips'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_LeftUpLeg'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_RightUpLeg'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_LeftLeg'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_RightLeg'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_Spine'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_Spine1'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_Spine2'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_LeftForeArm'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_RightForeArm'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_LeftArm'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_RightArm'"/>
			<body enabled="false" motion="'dynamic'" name="'rag_Head'"/>
		</sequence>
		<sequence editable_state="true" name="'switch_to_ragdoll'" triggable="true">
			<body enabled="false" name="'body'"/>
			<body enabled="false" name="'Head'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Hips'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine1'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine2'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Head'"/>
			<constraint enabled="true" name="'LeftUpLeg'"/>
			<constraint enabled="true" name="'RightUpLeg'"/>
			<constraint enabled="true" name="'LeftLeg'"/>
			<constraint enabled="true" name="'RightLeg'"/>
			<constraint enabled="true" name="'Spine'"/>
			<constraint enabled="true" name="'Spine1'"/>
			<constraint enabled="true" name="'Spine2'"/>
			<constraint enabled="true" name="'LeftForeArm'"/>
			<constraint enabled="true" name="'RightForeArm'"/>
			<constraint enabled="true" name="'LeftArm'"/>
			<constraint enabled="true" name="'RightArm'"/>
			<constraint enabled="true" name="'Head'"/>
		</sequence>
		<sequence editable_state="true" name="'freeze_ragdoll'" triggable="true">
			<body motion="'fixed'" name="'rag_Hips'"/>
			<body motion="'fixed'" name="'rag_LeftUpLeg'"/>
			<body motion="'fixed'" name="'rag_RightUpLeg'"/>
			<body motion="'fixed'" name="'rag_LeftLeg'"/>
			<body motion="'fixed'" name="'rag_RightLeg'"/>
			<body motion="'fixed'" name="'rag_Spine'"/>
			<body motion="'fixed'" name="'rag_Spine1'"/>
			<body motion="'fixed'" name="'rag_Spine2'"/>
			<body motion="'fixed'" name="'rag_LeftForeArm'"/>
			<body motion="'fixed'" name="'rag_RightForeArm'"/>
			<body motion="'fixed'" name="'rag_LeftArm'"/>
			<body motion="'fixed'" name="'rag_RightArm'"/>
			<body motion="'fixed'" name="'rag_Head'"/>
			<body motion="'fixed'" name="'jig_holster_right'"/>
			<body motion="'fixed'" name="'jig_holster_left'"/>
			<body motion="'fixed'" name="'body_holster_right'"/>
			<body motion="'fixed'" name="'body_holster_left'"/>						
			<constraint enabled="false" name="'LeftUpLeg'"/>
			<constraint enabled="false" name="'RightUpLeg'"/>
			<constraint enabled="false" name="'LeftLeg'"/>
			<constraint enabled="false" name="'RightLeg'"/>
			<constraint enabled="false" name="'Spine'"/>
			<constraint enabled="false" name="'Spine1'"/>
			<constraint enabled="false" name="'Spine2'"/>
			<constraint enabled="false" name="'LeftForeArm'"/>
			<constraint enabled="false" name="'RightForeArm'"/>
			<constraint enabled="false" name="'LeftArm'"/>
			<constraint enabled="false" name="'RightArm'"/>
			<constraint enabled="false" name="'Head'"/>
			<constraint enabled="false" name="'h_holster_left'"/>
			<constraint enabled="false" name="'h_holster_right'"/>			
		</sequence>
		<sequence editable_state="false" name="'swich_for_test'" triggable="false">
			<body enabled="false" name="'body'"/>
			<body enabled="false" name="'Head'"/>
			<body enabled="false" name="'mover_blocker'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_Hips'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftUpLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightUpLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightLeg'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_Spine'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_Spine1'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_Spine2'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftForeArm'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightForeArm'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_LeftArm'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_RightArm'"/>
			<body enabled="true" motion="'keyframed'" name="'rag_Head'"/>
			<constraint enabled="true" name="'LeftUpLeg'"/>
			<constraint enabled="true" name="'RightUpLeg'"/>
			<constraint enabled="true" name="'LeftLeg'"/>
			<constraint enabled="true" name="'RightLeg'"/>
			<constraint enabled="true" name="'Spine'"/>
			<constraint enabled="true" name="'Spine1'"/>
			<constraint enabled="true" name="'Spine2'"/>
			<constraint enabled="true" name="'LeftForeArm'"/>
			<constraint enabled="true" name="'RightForeArm'"/>
			<constraint enabled="true" name="'LeftArm'"/>
			<constraint enabled="true" name="'RightArm'"/>
			<constraint enabled="true" name="'Head'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_left_arm'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftArm'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_right_arm'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightArm'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_arms'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftArm'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_head'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Head'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_spine'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Head'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftForeArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftArm'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine1'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_Spine2'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_left_leg'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftLeg'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_right_leg'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightLeg'"/>
		</sequence>
		<sequence editable_state="true" name="'activate_ragdoll_legs'" triggable="true">
			<run_sequence name="'swich_for_test'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_RightLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftUpLeg'"/>
			<body enabled="true" motion="'dynamic'" name="'rag_LeftLeg'"/>
		</sequence>
	</unit>
</sequence_manager>
